<div class="col-md-2 offset-2 mt-5 list" >
    <table class="table">
        <thead>
          <tr>
            <th scope="col">Name</th>
            <th scope="col">Email</th>
            <th scope="col">Phone</th>
            <th scope="col">Address</th>
            <th scope="col">Actions</th>
            <th scope="col"><button class="btn btn-success btn-small " (click)='openModalAdd(templateAdd)'>Add</button></th>
          </tr>
        </thead>
        <tbody>
            <tr *ngFor='let user of users'>
                <td>{{user.name.title}} {{user.name.first}}</td>
                <td>{{user.email}}</td>
                <td>{{user.phone}}</td>
                <td>{{user.location.city}},{{user.location.state}},{{user.location.country}}</td>
                <td>
                    <button class="btn btn-secondary" (click)='openModal(template, user)'>Edit</button>
                    <button class="btn btn-danger" (click)='deleteUser(user)'>Delete</button>
                </td>
            </tr>
        </tbody>
      </table>

<!-- Modal for edit -->
<div id="myModal" class="modal fade" role="dialog" >
  <div class="modal-dialog">

    <!-- Modal content-->
        <div class="modal-content">
            <ng-template #template>
                <div class="modal-header">
                    <h6 class="modal-title">EDIT PROFILE</h6> 
                    <button type="button" class="close" data-dismiss="modal" (click)='closeModal(template)'>&times;</button>

                </div>
                <div class="modal-body">
                    <h6>{{user.name.first}} please edit your information</h6>
                </div>
                <form class="p-2" #f='ngForm'  (ngSubmit)='submitData(f)'>
                    <input type="hidden" class="form-control" name="id" ngModel="{{user.id}}">

                    <div class="form-group">
                        <label>Title</label>
                        <input type="text" class="form-control"  name='title' ngModel="{{user.name.title}}" required>
                    </div>
                    <div class="form-group">
                        <label>First Name</label>
                        <input type="text" class="form-control" name="first" ngModel="{{user.name.first}}"required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" class="form-control" name="email" ngModel="{{user.email}}"required>
                    </div>
                    <div class="form-group">
                        <label>Phone</label>
                        <input type="tel" class="form-control" name="phone" ngModel="{{user.phone}}" required>
                    </div>
                    <div class="form-group">
                        <label>City</label>
                        <input type="text" class="form-control" name="city" ngModel="{{user.location.city}}"required>
                    </div>
                    <div class="form-group">
                        <label>State</label>
                        <input type="text" class="form-control" name="state" ngModel="{{user.location.state}}"required>
                    </div>
                    <div class="form-group">
                        <label>Country</label>
                        <input type="text" class="form-control" name="country" ngModel="{{user.location.country}}"required>
                    </div>
                    <div class="form-group">
                        <input type="submit" class="btn btn-success form-control" value="Submit">
                    </div>
                </form>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" (click)='closeModal(template)'>Close</button>
                </div>
            </ng-template>
        </div>
  </div>
</div>

<!-- Modal for add -->
<div id="myModalAdd" class="modal fade" role="dialog" >
  <div class="modal-dialog">

    <!-- Modal content-->
        <div class="modal-content">
            <ng-template #templateAdd>
                <div class="modal-header">
                    <h6 class="modal-title">ADD PROFILE</h6> 
                    <button type="button" class="close" data-dismiss="modal" (click)='closeModal(template)'>&times;</button>

                </div>
                <div class="modal-body">
                    <h6 class="text-center">Add your information</h6>
                </div>
                <form class="p-2" #f='ngForm'  (ngSubmit)='submitData(f)'>
                    <input type="hidden" class="form-control" name="id" ngModel>

                    <div class="form-group">
                        <label>Title</label>
                        <input type="text" class="form-control"  name='title' ngModel required>
                    </div>
                    <div class="form-group">
                        <label>First Name</label>
                        <input type="text" class="form-control" name="first" ngModel required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" class="form-control" name="email" ngModel required>
                    </div>
                    <div class="form-group">
                        <label>Phone</label>
                        <input type="tel" class="form-control" name="phone" ngModel  required>
                    </div>
                    <div class="form-group">
                        <label>City</label>
                        <input type="text" class="form-control" name="city" ngModel required>
                    </div>
                    <div class="form-group">
                        <label>State</label>
                        <input type="text" class="form-control" name="state" ngModel required>
                    </div>
                    <div class="form-group">
                        <label>Country</label>
                        <input type="text" class="form-control" name="country" ngModel required>
                    </div>
                    <div class="form-group">
                        <input type="submit" class="btn btn-success form-control" value="Submit">
                    </div>
                </form>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" (click)='closeModal(template)'>Close</button>
                </div>
            </ng-template>
        </div>
  </div>
</div>
</div>
